<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>User - ProsTech</title>

    <link
      href="https://fonts.googleapis.com/css?family=Varela+Round"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rampart+One&family=Signika:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />

    <style>
      * {
        font-family: "Rampart One", cursive;
        font-family: "Roboto", sans-serif;
        font-weight: 600;
      }
      .formr {
        padding: 20px;
        /* background-color: rgb(13, 110, 253, 0.15); */
        border-color: rgb(13, 110, 253, 0.3);
        border-style: solid;
        border-width: 2px;
        border-radius: 20px;
        height: auto;
      }

      .row {
        padding-bottom: 12px;
      }
      .form-label {
        margin-bottom: 3px;
      }
      #user {
        padding-top: 40px;
        padding-bottom:75px ;
      }
      .mb-3 {
        padding-bottom: 12px;
      }
      h2 {
        margin-bottom: 0px;
      }
      .btnr {
        margin-top: 10px;
      }
      .hed {
        color: rgb(13, 110, 253);
        letter-spacing: 1px;
        font-size: 20px;
      }
      .navr {
        padding: 10px;
        margin: 10px;
      }
      #hed {
        color: rgb(13, 110, 253);
        letter-spacing: 1px;
        font-size: 30px;
      }
      h3{
        color:rgb(2,54,68);
        font-size: 20px;
        font-weight: 600;
    }
    h1{
        font-size: 30px;
        font-weight: 600;
        color:rgb(2,54,68);
        margin-bottom: 0;
    }
    h2,p{
        color:rgb(2,54,68);
        text-align: justify;
    }
    </style>
  </head>

  <body id="page-top">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark " id="mainNav">
      <div class="container">
          <a class="navbar-brand" href="#page-top">
              <img src="images/logo-sm.png" alt="ProsTech Logo" style="width: 55px; height: 55px;">
          </a>
          <span class="navbar-text text-white fw-bold ms-auto me-3" style="font-family: 'Montserrat', sans-serif;">
              <h1>ProsTech</h1>
          </span>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
              aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarResponsive">
              <ul class="navbar-nav ms-auto">

                  <li class="nav-item nav-segment nav-segment3"><a class="nav-link text-white fw-bold"
                          href="/"> <h3>Home</h3></a></li>
                  <li class="nav-item nav-segment nav-segment1"><a class="nav-link text-white fw-bold"
                          href="/login"> <h3>Login </h3></a></li>
 

              </ul>
          </div>
      </div>
  </nav>

    <!-- Content of the user page -->
    <section id="user">
      <div class="container px-4">
        <div class="row gx-4">
          <div class="col-6 formr">
            <h2 class="text-center">Sign up</h2>
            <br />

            <form method="post" action="/register">
              <div class="row">
                <div class="col-12">
                  <label for="name" class="form-label"
                    >&nbsp;Username:</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="name"
                    name="name"
                    placeholder="Enter your name"
                  />
                </div>
              </div>
              <div class="row">
                <div class="col-6">
                  <label for="age" class="form-label">&nbsp;Age:</label>
                  <input
                    type="number"
                    class="form-control"
                    id="age"
                    name="age"
                    placeholder="Enter your age"
                  />
                </div>
                <div class="col-6">
                  <label for="dob" class="form-label"
                    >&nbsp;Date of Birth:</label
                  >
                  <input type="date" class="form-control" id="dob" name="dob" />
                </div>
              </div>

              <div class="row">
                <div class="col-6">
                  <label for="gender" class="form-label">&nbsp;Gender:</label>
                  <select class="form-select" id="gender" name="gender">
                    <option value=""></option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div class="col-6">
                  <label for="amputation" class="form-label"
                    >&nbsp;Amputation:</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="amputation"
                    name="amputation"
                    placeholder="Enter the amputation part"
                  />
                </div>
              </div>

              <div class="row">
                <div class="col-12">
                  <label for="email" class="form-label">&nbsp;Email:</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    name="email"
                    placeholder="Enter your email"
                  />
                </div>
              </div>
              <div class="row">
                <div class="col-6">
                  <label for="password" class="form-label"
                    >&nbsp;Password:</label
                  >
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    name="password"
                    placeholder="Enter your password"
                  />
                </div>
                <div class="col-6">
                  <label for="password" class="form-label"
                    >&nbsp; Confirm Password:</label
                  >
                  <input
                    type="password"
                    class="form-control"
                    id="cpassword"
                    placeholder="Enter your password"
                  />
                </div>
              </div>
              <div class="btnr text-center">
                <p id="err"></p>
                <button class="btn btn-md btn-primary" type="submit">
                  Register
                </button>
              </div>
            </form>
          </div>
          <div class="col-lg-6 text-center">
            <img
              src="images/userlogin.png"
              alt="User Image"
              class="img-fluid"
              style="width: 400px; height: auto"
            />
          </div>
        </div>
      </div>
    </section>

    <script>
      const form = document.querySelector("form");

      form.addEventListener("submit", function (event) {
        event.preventDefault();
        if (validateForm()) {
          form.submit();
        }
      });

      function validateForm() {
        const name = document.getElementById("name").value;
        const age = document.getElementById("age").value;
        const dob = document.getElementById("dob").value;
        const gender = document.getElementById("gender").value;
        const amputation = document.getElementById("amputation").value;
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
        const cpassword = document.getElementById("cpassword").value;
        const err = document.getElementById("err");
        err.innerHTML = "";

        console.log("hello");

        if (
            name === '' ||
            age === '' ||
            dob === '' ||
            gender === '' ||
            amputation === '' ||
            email === '' ||
            password === '' ||
            cpassword === ''
        ) {
            err.innerHTML='Please fill in all the fields.';
            return false;
        }

        if((/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)) === false){
            err.innerHTML="Please Enter a valid email address.";
            return false;
        }

        if(password.length < 8){
            err.innerHTML="password must be 8 characters long.";
            return false;
        }

        if (password !== cpassword) {
            err.innerHTML='Passwords do not match.';
            return false;
        }

        if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}/.test(password) === false ){
            err.innerHTML="password must contain a capital letter, a digit, a lower case letter.";
            return false;
        }

        return true;
      }
    </script>
  </body>
</html>
